# ER図2
## 全体
- 消費税はどこに入れるか
- 入荷管理用のテーブルがない

## 管理者
- エンドユーザーと1:多の関係にする必要はない
- 商品と1:多の関係にする必要はない

## エンドユーザー
- PKがエンドユーザidではなく、ユーザidになっている
- 名カラムがない
- 配送先と住所はべつ？
- 住所を一つしか持てない

## 商品
- 「ディスク枚数カラム」必要ない
- 論理削除考慮していない
- [商品]が1で[ディスク]が多の関係が適切。リレーションが逆、「ディスクID」必要ない
- 発売日カラムがない
- 在庫数カラムは必要ない

## ディスク
- [ディスク]が1で[曲]が多の関係が適切。リレーションが逆、「曲名ID」は必要ない

## 曲名
- 曲順を管理できない
- ##ディスク でも述べたとおり、リレーションが逆。FKとして「ディスクID」をもつ必要がある

## カートアイテム
- PKがない
- まだ購入していないので「購入枚数」という名前は適切でない。「小計金額」カラムは必要ない。

## 購入詳細
- テーブル名は管理者視点で命名すべきなので、「受注詳細」にすべき
- FKとして「商品id」がない→[商品]とリレーションを結ぶ必要がある。
- [購入]が1で[購入詳細]が多の関係が適切。「購入ID」が必要
- 購入時価格を保持するカラムがない

## 購入
- テーブル名は管理者視点で命名すべきなので、「受注」にすべき
- ##購入詳細でも述べたが[購入]が1で[購入詳細]が多の関係が適切。「購入詳細ID」は必要ない
- 郵便番号カラムがない
- 購入日は登録日時で代用できる

## ジャンル
- カラムに「ジャンル」とあるが、何が入るのかわからないので「ジャンル名」とすべき

## レーベル
- カラムにレーベルとあるが、何が入るのかわからないので「レーベル名」とすべき


**研修担当レビュー**
<font color="Red">再提出の際はこのレビューを残しておいてください。</font>

## レビュー者コメント
- 以下指摘不足項目になります！基本的なところの指摘はカバー出来ているので、細かいところを見直してみてください。

## 全体
- 入荷管理用のテーブルがない。

## エンドユーザ
- PKがエンドユーザidではなく、ユーザidになっている。

## 購入
- テーブル名が管理者視点の命名になっていない。
	- 「受注」にするべき。

## 購入詳細
- テーブル名が管理者視点の命名になっていない。
	- 「受注詳細」にするべき。
- 購入時価格を保持するカラムがない。

## ジャンル
- カラムに「ジャンル」とあるが、何が入るものか不明
	- 「ジャンル名」が適切。

## レーベル
- カラムにレーベルとあるが、何が入るものか不明
	- 「レーベル名」が適切。

## 商品
- 発売日カラムがない。
- 在庫数カラムがある(入荷と売上から算出する)。


# フィードバック2回目

[add]→付け加えなければいけないところ
[fix]→修正が必要なところ
[comment]→その他コメント（修正ではないけど、確認して欲しいポイントです）

## 全体
- 消費税はどこに入れるか
- 入荷管理用のテーブルがない
[add]→テーブル名と同じワードを含むカラムは改名する（ex. disk_idカラム→idカラムなど）
[comment]→上記の上の指摘は更に各テーブルで具体的に指摘する方がベター
[add]→テーブルのリレーションを確認した時、「一対0以上」「一対一位以上」なのかに注意する。(カーディナリティ、IE記法で検索)


## 管理者
- エンドユーザーと1:多の関係にする必要はない
- 商品と1:多の関係にする必要はない
[comment]→この言い回しだと、他の関係性（ex.1対1など）は必要であるような意味にとりかねないので、両テーブルが関係を持つこと自体を否定する

## エンドユーザー
- PKがエンドユーザidではなく、ユーザidになっている
- 名カラムがない
- 配送先と住所はべつ？
- 住所を一つしか持てない

## 商品
- 「ディスク枚数カラム」必要ない
- 論理削除考慮していない
- [商品]が1で[ディスク]が多の関係が適切。リレーションが逆、「ディスクID」必要ない
- 発売日カラムがない
- 在庫数カラムは必要ない

## ディスク
- [ディスク]が1で[曲]が多の関係が適切。リレーションが逆、「曲名ID」は必要ない
[add]→トラックNo.の用途が不明。ディスクの番号を把握したいはず。

## 曲名
- 曲順を管理できない
- ##ディスク でも述べたとおり、リレーションが逆。FKとして「ディスクID」をもつ必要がある

## カートアイテム
- PKがない
- まだ購入していないので「購入枚数」という名前は適切でない。「小計金額」カラムは必要ない。

## 購入詳細
- テーブル名は管理者視点で命名すべきなので、「受注詳細」にすべき
- FKとして「商品id」がない→[商品]とリレーションを結ぶ必要がある。
- [購入]が1で[購入詳細]が多の関係が適切。「購入ID」が必要
- 購入時価格を保持するカラムがない

## 購入
- テーブル名は管理者視点で命名すべきなので、「受注」にすべき
- ##購入詳細でも述べたが[購入]が1で[購入詳細]が多の関係が適切。「購入詳細ID」は必要ない
- 郵便番号カラムがない
- 購入日は登録日時で代用できる
