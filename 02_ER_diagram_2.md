# ER図2
## 全体
- 自分以外の住所を登録できるデータが欲しい
- 入荷関連のテーブルが欲しい(CDの登録日時では入荷時を識別できない)

## エンドユーザー
- IDの命名規則はこの場合エンドユーザーID
- 名カラムがない

## 曲名
- 商品、ディスクとの関係性おかしい、逆（CD、ディスクの親レコードになっているため曲一つに対してCD~を複数登録するような関係性になっている）
- 曲順を識別するカラムがない

## ディスク
- 曲名と同様、関係性がおかしい、FKに曲名がある
- あえてカラム名にトラックNO.する必要性がない、単純にディスク番号でいい

## ジャンル
- ジャンルカラムはジャンルの何のカラムなのかわかりづらいのでジャンル名とかにしたほうがいい

## レーベル
- レーベルカラムはレーベルの何のカラムなのかわかりづらいのでレーベル名とかにしたほうがいい

## 商品
- ディスクとの関係性がおかしい、FKにディスクがある
- ディスク枚数はディスクの関連データから算出できるので必要ない
- 発売日、入荷日を識別するカラムがない
<!-- 追記-->
- 在庫数カラムは実際の在庫と入荷の数量が同一に格納される恐れがあるので入荷用の情報も管理できると良い
- 在庫数カラムは必要ない。(入荷数-購入数)
- カートとのカーディナリティが間違っている。(カートを作成する際に必ず商品登録しなければならなくなる)

## カートアイテム
<!-- 追記-->
- 小計は親テーブルの商品x購入枚数で計算可能(価格変動の対応)

## 購入
<!-- 追記-->
- 基本的にテーブル名は管理者目線なのでテーブル名を注文にしたほうがいい
- 購入日はcreated_atで代用可能
- 購入詳細との関係性が逆
- 配送先氏名、消費税、配送状況に関するカラムがない


## 購入詳細
- テーブル名を注文詳細とかにしたほうがいい
- 購入との関係性が逆
- 商品と関係性がないので商品情報を持ち出せない、FKで商品ID追加(注文時の)
- 購入時価格を記録するカラムが必要。

## 管理者
- ユーザとCDに紐付ける必要がない


**研修担当レビュー**
<font color="Red">再提出の際はこのレビューを残しておいてください。</font>

## 購入
- なぜテーブル名を`受注`にするべきなのかも指摘できるとbetterです
- 購入日カラムは必要ですか？

## 購入詳細
- CDテーブルとリレーションした際に紐づいた商品の値段に変動があった場合、注文履歴の価格も変化してしましますが、どのように対処しますか？ 

## 商品
- テーブル名が商品なので指摘の際は`CD`ではなく`商品`としましょう
(受講生に指摘する際に混乱を防ぐことができます)
- 在庫数カラムがありますが問題ありませんか？
