# ER図1
## 全体
- ActiveRecordでデフォルトで作られる登録日、更新日がない
- 商品在庫関係のテーブルがない
- 受注明細がない

## 管理人
- 管理人はリレーションしなくていいz

## ユーザ
- 退会状態を管理するカラムがない
	>論理削除を考慮してない
- テーブル名は、「会員」「顧客」「エンドユーザ」のような命名が望ましい

## 商品
- 商品は、注文個数などの購入情報を持つ意味がないので、購入とリレーションする必要がない
- ディスクが複数あるなら、ディスク番号というテーブルが必要
	>さらに曲もディスク内に複数あると思うので、曲名テーブルが必要
- 在庫管理は、商品テーブルとリレーションされた別のテーブルで行うべき
- アーティストカラム、ジャンルカラム、レーベルカラムがある
- 商品を削除した場合の論理削除が考慮されていない
- ステータスは、なんのステータスかわかるように記述する。「販売ステータス」など

## カート
- ユーザーがカートに商品を登録するので、ユーザーとリレーションされていなければいけない
- カートには、リレーションされている商品の情報は入っているので、アーティスト名、ジャケ写、シングル/アルバムはいらない
- テーブルの命名が適切ではない
- PKの命名がテーブル名と合っていません
- 合計金額を持ってしまっている
- 商品とのカーディナリティが１以上になってる


## 購入
- ユーザーと購入の間に、消費税や送料、配送ステータス、配送先住所などを管理するテーブルが必要
- 決済だと支払い行為を意味するので、管理者視点だと受注などが適切
- 購入日カラムは他のカラムと役割が重複する
- 送付先住所はあるが、宛名や郵便番号がない
- 送料を管理するカラムがない
- 合計金額を管理するカラムがない
- 配送のステータスがない


# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

## レビュー1回目
## 全体
- 複数配送先を持つ場合はどのように管理しますか？(決済と結びつける必要がありますか？)
- 受注詳細テーブルがありません。(注文履歴を決済テーブルを見て確認した時に、それに結びついた商品を参照したいので、商品と決済にリレーションを持ちたいですが、関係が多:多になってしまうので、中間テーブルand各注文商品の購入時価格や制作ステータス(CDではないがケーキならあり)の管理をするためのテーブル)

## 商品
- アーティスト、ジャンル、レーベルをレコードごとに更新する設計になっています。
- 論理削除はどのように行いますか？

## カート
- ここに入れるデータはカート内の商品のデータなので、カート内商品などの命名が適切です。(カートは複数存在しないため)
- 合計金額はリレーションなどを利用できませんか？
- PKの命名がテーブル名と合っていません。

## 購入
- 決済だと支払い行為を意味するので、管理者視点だと受注などが適切です。
- 購入日カラムは他のカラムと役割が重複しませんか？
- 送料はどこで管理しますか？
- 合計金額を管理するカラムがありません。
- 送付先住所はあるが、宛名や郵便番号がありません。


# レビュー2回目
## ユーザ
- テーブル名は、「会員」「顧客」「エンドユーザ」のような命名が望ましいです。
  - 今回ECサイトを使うユーザ、管理者側を使うユーザ、の2通りのユーザがいるので、混乱しないように分けるためです。
  - データベースの情報は管理者が利用します。管理者側から見た呼び方にしておきましょう。
  
## 商品
- ステータスでは何のステータスか分からないので、例えば「販売ステータス」などが適切です。

## カート
- 商品とのリレーション(カーディナリティ)は適切でしょうか。

## 購入
-　要件に配送ステータスがありますが、不足しています。

# レビュー3回目
## カート
- 商品とのリレーションはいらない
  > どのように商品とユーザを結びつけるのでしょうか？
    - 前のレビューの指摘はカーディナリティが不適切ということです。カーディナリティが１：（１以上の）多の関係となっていますが、それでよろしいでしょうか？
    
# レビュー4回目
## 管理人
- 誤字があります。

## 商品
- 商品idを持っています（注文詳細が持つべき）。
