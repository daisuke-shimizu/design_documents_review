# ER図1

## 全体
- 購入時のCD金額を格納するカラムがない。ので価格変動に対応できない。
- 曲順番、cdのディスク順番が判別できない
- 注文関連のテーブルが注文と命名していたり購入と命名していたりややこしい
- 小計(購入した商品ごとの金額)のデータの格納するカラムがない
- 入荷情報がない

## エンドユーザ
- PKの命名規則が守られていない
- 住所テーブルがあるなら郵便番号のテーブルがあると良い
- エンドユーザが管理者の子テーブルになっている。FKに管理者idがある。
- 住所登録が一つしかできない

## カート
- アーティストアルバム名等のカラムは関連テーブルから持ってこれるのでいらない
- ユーザ情報がない
- PKの命名規則が守られていない
- 〜さんのカート情報というデータにしたいためユーザと紐づけたいためユーザーの情報(FK)が必要

## 商品
- 曲は複数ある場合があるのでテーブルは分けるべき
- アーティスト、レーベル、ジャンルは商品ごとに重複する、親テーブルにすべき
- 発売日のデータがない

## 決済
- 購入日はcreated_atで作れる
- 送料含む合計金額があると良い
- ユーザーのカーディナリティが0以上になっている
- 格納しているカラムが決済関連の役割以外のものがあるので命名を変えたほうがいい
- カートは複数あるのでFKにカートは必要ない

## 購入履歴
- 発送状況は変動するので購入履歴というテーブルの中に格納するのは不適切
- CD購入価格、数量情報がない、商品のFKがない


**研修担当レビュー**
<font color="Red">再提出の際はこのレビューを残しておいてください。</font>

## 全体
- Railsでデフォルトで作成される作成日、更新日カラムがありません。
- > PKの命名規則が守られていない

という指摘が複数ありますが、ER図の段階ではこの指摘は不要です。テーブル定義書で`id`となっていれば良いです。
(カートテーブルの指摘に関してはokです)

## エンドユーザー
- > 住所テーブルがあるなら郵便番号のテーブルがあると良い

こちら郵便番号テーブルは不要かと思います。

## 管理者
- 商品テーブルとリレーションがありますが、問題ありませんか？
- ユーザーが退会した場合該当のレコードはどうなりますか？

## 商品
- 複数枚ディスクが考慮されていません
- 商品を削除した場合該当のレコードはどうなりますか？
- `ステータス`というカラムがありますが、どのようなステータスかどうか判断がつかないためふさわしくないです
- 在庫数カラムがありますが問題ありませんか？

## カート
- テーブル名が実際の役割と異なると思いますが、問題ありませんか？
- 合計金額カラムは必要でしょうか？

## 決済
- > ユーザーのカーディナリティが0以上になっている

とありますが、どういった意味でしょうか？
- 送料カラムは必要ありませんか？
- 宛先住所を保持するカラムはありますが、宛先名、郵便番号を保持するカラムがありません。
