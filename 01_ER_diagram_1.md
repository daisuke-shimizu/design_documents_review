
# ER図1
## 全体
- 指摘事項
- ActiveRecordでデフォルトで作られる登録日、更新日の記述もお願いいたします。
- 購入した商品の詳細テーブルがほしい。
- 商品テーブルに在庫数というカラムがあるが、入庫に関する情報を格納するテーブルがほしい。
## テーブル名
- 指摘事項
# ユーザ
- 論理削除を考慮していない
-  ユーザの登録住所以外にも、配送先を複数持てるようにしてほしいです。
	（amazonのような形式が理想です）
- テーブル名は、「会員」「顧客」「エンドユーザ」のような命名が望ましいです。

# 管理者
- 一人の管理人には０人以上の顧客がいるというリレーションが作成されているがリレーションを作成する必要はない。
- 一人の管理人には０以上の商品があるというリレーションが作成されているがリレーションを作成する必要はない。
# 商品
- 複数枚ディスクを考慮していない。
- ディスクに対して曲を管理できない
- １商品に対して、必ず１つ以上のカートがあるというリレーションが作成されているがよろしいですか。
- 商品が削除された場合のことを考慮していない。（新しいカラムを作成する必要がある）
- 表記ゆれ防止・updateの手間を省くため、テーブルを分けるべきカラムがあると思います。(例：アーティストテーブルなど、カラム一つで値が複数あるケースがあるカラム)
- 何のステータスかわかりにくいので、用途が明瞭なカラム名にしましょう
- 在庫数カラムは入荷と売上から算出できるので不要
## 共通
- 何のステータスかわかりにくいので、用途が明瞭なカラム名にしましょう

# カート
- 現在のカートテーブルの中に他のデータから算出できるカラムが存在しています。（例：アーティスト名etc...)
- 一つの商品には１以上のカートがあるというリレーションが作成されているがよろしいですか。
- テーブル名を「カートアイテム」「カート内商品」のような命名にすると良いかと思います。
- テーブル名とPKが一致していません。
- 誰のカートかという情報を得ることができない。（リレーション作成する必要・カラムの追加）


# 購入
- 送付先住所カラムがありますが、わかりやすく送先住所にしましょう
- 購入日は登録日というrailsが自動で生成してくれるカラムを使えば良いと思います
- テーブル名が管理者視点のものになっていない。
- 商品id と注文個数カラムはこのテーブルには必要ではない。
- 要件に必要なカラムが複数個ない。(例：購入価格、住所、配送ステータスカラム)

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。




# 研修担当レビュー
- 再提出の際、以下は残しておいてください。

# 全体
- 今は問題抽出なので、問題点だけ列挙していただければOKです。

# 管理者
> 一人の管理人には０人以上の顧客がいるというリレーションが作成されているがよろしいですか。
- そもそもリレーションをつなぐ必要がないはずです。

- エンドユーザー以外にも不要なリレーションはありませんか？

  
## 商品
> テーブルを分けるべきカラムがあると思います。
- 具体的にどのカラムを分けるべきでしょうか。

- "ステータス"だと何が入るか分かりにくいので、"販売ステータス"など用途が明瞭なカラム名にするのが望ましいです。

- 現状の設計は商品が削除された時のことを考慮された設計になっているでしょうか。もしされていないようでしたらご指摘をお願いいたします。
- アーティスト名カラムがある。(表記ゆれ防止、updateの手間を省くため)
- レーベルカラムがある。(表記ゆれ防止、updateの手間を省くため)
- ジャンルカラムがある。(表記ゆれ防止、updateの手間を省くため)
- 曲名カラムがある。
- 在庫数カラムがある。（在庫数は入荷と売上から算出する）
- ステータスが何を意味しているか不明。



## カート
- 現在のカートテーブルの中に他のデータから算出できるカラムが存在しています。ご指摘をお願いいたします。

- 現在のER図は誰のカートかという情報を得ることができますか。ご確認をお願いします。

## 購入
- テーブル名をもう一度見直してみてください。管理者視点のものになっているでしょうか。

- 要件に必要なカラム何個かありません。ご確認をお願いいたします。

- 商品id と注文個数カラムは必要でしょうか。ご確認をお願いいたします。


要件に必要なカラムが複数個ない。←これなんのカラムが必要か明記しておこう

## レビュー
- 合格です
