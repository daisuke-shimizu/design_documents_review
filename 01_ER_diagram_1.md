# ER 図 1

## 全体

- 指摘事項

## テーブル名

- 指摘事項

# 注意

- マークダウン形式で記入してください。
- 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

## 全体

- カーディナリティの記述不足
- 受注詳細記録テーブルが存在しない
- 商品の入荷に関するテーブルがない
- 配送先に関するテーブルがない
- 商品テーブルと受注テーブルの間に、受注詳細に関する中間テーブルが存在していない
- 登録日時・更新日時に関するカラムの記載がない

## エンドユーザー

- FK の管理人 ID が不要
- 住所に関するカラムが不足している
- 退会情報を保持するためのカラムが存在しない

## カート

- 商品が入るテーブルなので、カート内商品の方が良い
- エンドユーザーと紐づいていない
- PK の ID が一致していない
- 商品モデルで保有しているカラムである、アーティスト名・ジャケット画像・シングル/アルバム名は必要ない
- 合計金額カラムが必要ない

## 管理人

- 管理人はエンドユーザーモデルと商品モデルに紐づかない

## 商品

- アーティスト・レーベル・ジャンルに関してのテーブルを別で用意する必要がある
- 在庫数に関しては商品テーブル内ではなく、受注詳細記録テーブル及び、入荷記録テーブルで管理する必要がある
- ディスクテーブルを用意する必要がある。また、そのディスクテーブルに紐づく形で曲テーブルを用意する必要がある。
- 送料に関する定義がなく、送料が変更された場合に、過去に購入した商品の送料に関して確認することができない
- 論理削除が考慮されていない
- ステータスがなにを意味しているか不明

## 購入履歴テーブル

- 購入履歴と商品のリレーションが無い

## 決済

- テーブル名と機能が異なっている。基本的に命名は管理者の立場で行う為、「受注」などが適切です。
- 購入日カラムは必要ない
- 送料カラムが必要
- 合計金額カラムが存在しない
- カートとのリレーションは必要ない
- 宛名と郵便番号カラムがない

## カート

- 数量を保持していない
- 合計金額カラムは必要ありません。個々の金額から算出できるためです。
- PK の命名がテーブル名と合っていません。
- カラムとして必要のないカラムがあります。探してみて下さい。