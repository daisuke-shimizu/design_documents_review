# ER図2

[add]→付け加えなければいけないところ
[fix]→修正が必要なところ
[comment]→その他コメント

## 全体
- 住所テーブルがない(配送先)
- 商品テーブルと購入詳細テーブルが結びついていないと購入履歴で商品の詳細を確認できない

## 商品テーブル
- ディスク、曲との親子関係が逆になっている。
[fix]これはディスクテーブルと曲テーブルそれぞれに対する指摘なので、書く場所が違います。
- カートテーブルを持たなくてもいいのでリレーションに「○」が必要
[add]ディスクidは不適。
[add]ディスク枚数カラムは不適。
[add]発売日カラムがない。
[add]在庫数カラムがある(入荷と売上から算出する)。

## アーティスト
- 商品テーブルを持たなくてもいいのでリレーションに「○」が必要(商品がなくても登録できる)

## レーベル
- 商品テーブルを持たなくてもいいのでリレーションに「○」が必要
[add]レーベルカラムとあるが何が入るか不明。
[comment]↑おそらく、レーベル名をいれるカラムなのだろうが、基本テーブル名とカラム名は同じにしない。情報が”レーベルが持つ何か”であるということは自明なため。

## ジャンル
- 商品テーブルを持たなくてもいいのでリレーションに「○」が必要
[add]ジャンルカラムとあるが何が入るか不明。レーベルと同じ理由。

## 管理者テーブル
- 商品、顧客との間の1:多の関係がいらない

## エンドユーザーテーブル
- 名の漢字のカラムがない
- 配送先カラムが不要(複数もつから別テーブル)
[add]エンドユーザidがユーザidになっている。

## カートテーブル
- 購入テーブルと連結されている
[fix]連結されてはいない。（確かに購入詳細とくっついてるのでそう見えるが）
[add]idがない
[add]小計カラムがある(別カラムから算出可能)。

## 購入テーブル
- 購入詳細との親子関係が逆
- 購入日カラムが不要(created_atとかぶるから)
- 配送ステータスがない
- 送付先の郵便番号、電話番号、名前を格納するカラムがない
[add]管理者視点の命名になっていない(→受注)。

## 購入詳細テーブル
- 商品と結びついていないので購入テーブルから商品情報が呼び出せない
[add]管理者視点の命名になっていない(→受注詳細)。
[add]購入時価格を保持するカラムがない。

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

# ディスクテーブル[add]
[add]トラックNo.の用途が不明

# 曲テーブル[add]
[add]曲順を管理するカラムがない。

