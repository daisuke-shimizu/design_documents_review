﻿﻿# テーブル定義書1
## 全体
- テーブル名が大文字始まりになっている。
- カラム名にテーブル名が含まれてしまっている。
- 単語の省略形が使われている。
- 配送先のテーブルがない。
- 登録日時と更新日時のカラム説明が全てユーザになっている。
- PKのカラム名は全てid。
- 入荷テーブル、配送先テーブルがない。


## admin
- PKがない。
- idのカラムにindex,auto incrementの○がない。
- テーブル名が単数形になっている。

## users
- 名前のカラムもnot nullにした方がよい。
- 退会ステータスの型がstringになっている。
- 郵便番号、電話番号の型がintegerになっており、0から始まるものの登録ができない。
- 単語の省略形が使われている。
- 退会ステータに対してmember_statusというカラム名は本来の意味を表現できていない。

## products
- ジャケット画像のカラムも名前のカラムもnot nullにした方がよい。
- notaxのnoとtaxがくっついている。
- 在庫ステータスの型がstringになっている。
- disc_id、genre_id、label_id、artist_idがFKになっていない。
- ジャケット画像のデフォルトは文ではなくno_image.jpgのような画像の方がよい。
- 在庫数のカラムはいらない。
- disc_idはいらない。
- 在庫ステータスは在庫数がわかればわかるのでいらない。

## discs
- products_idではなくproduct_id。
- PKのindexの○がない。
- トラックNo.ではなくディスク番号を管理するカラムにする。

## songs
- 曲順を管理するカラムがない。
- PKがない。
- songというカラム名では何を示しているかわからない。
- 曲名のデータ型がintegerになっている。


## labels
- 商品IDを持たない。
- PKがない。
- レーベルというカラム説明では何を示しているかわからない。
- labelというカラム名では何を示しているかわからない。


## artists
- PKがない。
- 商品IDをもたない。
- artistというカラム名では何を示しているかわからない。
- アーティスト名のデータ型がintegerになっている。

## genres
- PKがない。
- テーブル名は複数形。
- 商品IDをもたない。
- genreというカラム名では何を示しているかわからない。
- ジャンル名のデータ型がintegerになっている。

## cart_items
- テーブル名は複数形。
- PKがない。
- products_idではなくproduct_id。
- buy numのように文字と文字の間はあけてはいけない。
- 小計のカラムは算出できるのでいらない。

## buy_details
- buy numのように文字と文字の間はあけてはいけない。
- 商品IDがない。
- buyテーブルに対するFKがない。

## buy
- テーブル名は名詞の方がよい。
- 購入詳細idはいらない。
- payは動詞なので名詞にする。
- 支払方法の型は、3つ以上選択肢があるならintegerがよい。
- 支払合計のカラム名が正しくない。
- 購入日のカラムはいらない。
- 配送ステータス、送付先氏名、送付先郵便番号、消費税のカラムがない。



# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

# 研修担当レビュー
**再提出の際は、レビューを残しておいて下さい**
【フィードバック】
[add]→付け加えなければいけないところ
[fix]→修正が必要なところ
[comment]→その他コメント

## Users
- 略語を使ってはいけないことを言及したほうが良いです。
- カラム名と格納する値が明確に対応していないカラムがあります。
  
## Products
- 余計な外部キーはありませんか。
- 他のカラムと意味が重複するカラムはありませんか。
[add]→fallbackでno_imageの画像を呼び出せばいいので、image_idは必ずしもnot null出なくてもいいかも
[fix]→「ジャケット画像のデフォルトは文ではなくno_image.jpgのような画像の方がよい」文と言ってしまうと分かりにくい。問題はデータ型textは適切かどうか。


## artists
- artistというカラム名では何を示しているかわからない。
[add]→正直、推察することはできる。つまるところ、テーブル名とカラム名に同じ言葉が含まれていることがよくない点。理由としては、viewページでカラムデータを引っ張ってくる際、Aritst.artistsなど書くことになるが、この同じ言葉の連続がコードの可読性の低下に繋がるため。

## genres
- genreというカラム名では何を示しているかわからない。
[add]→正直、推察することはできる。以下、上と同文。


## cart_items
- テーブル名は複数形。
[add]→かつ、アンダーバーで連結する。

## buy_details
[add]→テーブルの命名を考え直す必要あり。（直訳で「買う詳細」になっている）

## buy
- テーブル名は名詞の方がよい。
[add]→命名規則的に設計は「管理者側の視点」で行う。
- payは動詞なので名詞にする。
[fix]→一応、名詞の意味もあるが、「給料」という意味になってしまう。また、名詞になってしまうこともよくないが、あくまでも命名は「管理者側の視点」で行う。という原則が守られていないことがよくない点。
